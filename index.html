<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coordenadas en RV</title>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
</head>
<body>
    <a-scene vr-mode-ui="enabled: true">
        <!-- Carga de modelos -->
        <a-assets>
            <a-asset-item id="museo2-glb" src="museo2.glb"></a-asset-item>
        </a-assets>

        <!-- Modelo 3D del museo -->
        <a-entity 
            gltf-model="#museo2-glb" 
            scale="10 10 10" 
            position="0 0 0" 
            static-body></a-entity>
        
        <!-- Cámara con controles móviles -->
        <a-entity id="rig" position="0 50 0">
            <a-entity 
                camera 
                look-controls 
                wasd-controls="acceleration: 200">
            </a-entity>
        </a-entity>

        <!-- Coordenadas en la pantalla -->
        <a-entity id="coordenadas" position="0 1 -3" text="value: X: 0 Y: 0 Z: 0; color: #FFF; align: center;"></a-entity>

        <!-- Script para actualizar las coordenadas -->
        <script>
            AFRAME.registerComponent('show-coordinates', {
                tick: function () {
                    const cameraEl = document.querySelector('#rig a-entity[camera]'); // Actualizado para seleccionar correctamente la cámara
                    const position = cameraEl.getAttribute('position'); // Obtener las coordenadas de la cámara
                    
                    // Actualizar las coordenadas en el elemento de texto
                    const coordenadasEl = document.getElementById('coordenadas');
                    coordenadasEl.setAttribute('text', 'value: X: ' + position.x.toFixed(2) + ' Y: ' + position.y.toFixed(2) + ' Z: ' + position.z.toFixed(2));
                }
            });

            // Agregar el componente al <a-scene> para actualizar las coordenadas
            document.querySelector('a-scene').setAttribute('show-coordinates', '');
        </script>

        <!-- Iluminación -->
        <a-light type="ambient" color="#FFFFFF" intensity="1"></a-light>
        <a-light type="point" position="10 10 10" intensity="2" color="#FFFFFF"></a-light>
        <a-light type="point" position="-10 10 10" intensity="2" color="#FFFFFF"></a-light>
        <a-light type="point" position="0 5 0" intensity="1.5" color="#FFFFFF"></a-light>
    </a-scene>
</body>
</html>
